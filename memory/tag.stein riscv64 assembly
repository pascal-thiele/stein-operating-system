align 4


# in
# 4 source address
# 5 destination address
label tag_copy
ld 6 4 0
sd 6 5 0
ld 6 4 8
sd 6 5 8
ld 6 4 16
sd 6 5 16
ld 6 4 24
sd 6 5 24
ld 6 4 32
sd 6 5 32
ld 6 4 40
sd 6 5 40
ld 6 4 48
sd 6 5 48
ld 6 4 56
sd 6 5 56
ld 6 4 64
sd 6 5 64
ld 6 4 72
sd 6 5 72
ld 6 4 80
sd 6 5 80
ld 6 4 88
sd 6 5 88
ld 6 4 96
sd 6 5 96
ld 6 4 104
sd 6 5 104
ld 6 4 112
sd 6 5 112
ld 6 4 120
sd 6 5 120
ld 6 4 128
sd 6 5 128
ld 6 4 136
sd 6 5 136
ld 6 4 144
sd 6 5 144
ld 6 4 152
sd 6 5 152
ld 6 4 160
sd 6 5 160
ld 6 4 168
sd 6 5 168
ld 6 4 176
sd 6 5 176
ld 6 4 184
sd 6 5 184
ld 6 4 192
sd 6 5 192
ld 6 4 200
sd 6 5 200
ld 6 4 208
sd 6 5 208
ld 6 4 216
sd 6 5 216
ld 6 4 224
sd 6 5 224
ld 6 4 232
sd 6 5 232
ld 6 4 240
sd 6 5 240
ld 6 4 248
sd 6 5 248
jalr 0 1 0


# in
# 4 name address
label tag_clear
sd 0 4 0
sd 0 4 8
sd 0 4 16
sd 0 4 24
sd 0 4 32
sd 0 4 40
sd 0 4 48
sd 0 4 56
sd 0 4 64
sd 0 4 72
sd 0 4 80
sd 0 4 88
sd 0 4 96
sd 0 4 104
sd 0 4 112
sd 0 4 120
sd 0 4 128
sd 0 4 136
sd 0 4 144
sd 0 4 152
sd 0 4 160
sd 0 4 168
sd 0 4 176
sd 0 4 184
sd 0 4 192
sd 0 4 200
sd 0 4 208
sd 0 4 216
sd 0 4 224
sd 0 4 232
sd 0 4 240
sd 0 4 248
jalr 0 1 0


# in
# 4 tag address
# 5 tag address
# out
# 4 zero if tags are equal
label tag_compare
ld 6 4 0
ld 7 5 0
xor 8 7 6
ld 6 4 8
ld 7 5 8
xor 7 7 6
or 8 8 7
ld 6 4 16
ld 7 5 16
xor 7 7 6
or 8 8 7
ld 6 4 24
ld 7 5 24
xor 7 7 6
or 8 8 7
ld 6 4 32
ld 7 5 32
xor 7 7 6
or 8 8 7
ld 6 4 40
ld 7 5 40
xor 7 7 6
or 8 8 7
ld 6 4 48
ld 7 5 48
xor 7 7 6
or 8 8 7
ld 6 4 56
ld 7 5 56
xor 7 7 6
or 8 8 7
ld 6 4 64
ld 7 5 64
xor 7 7 6
or 8 8 7
ld 6 4 72
ld 7 5 72
xor 7 7 6
or 8 8 7
ld 6 4 80
ld 7 5 80
xor 7 7 6
or 8 8 7
ld 6 4 88
ld 7 5 88
xor 7 7 6
or 8 8 7
ld 6 4 96
ld 7 5 96
xor 7 7 6
or 8 8 7
ld 6 4 104
ld 7 5 104
xor 7 7 6
or 8 8 7
ld 6 4 112
ld 7 5 112
xor 7 7 6
or 8 8 7
ld 6 4 120
ld 7 5 120
xor 7 7 6
or 8 8 7
ld 6 4 128
ld 7 5 128
xor 7 7 6
or 8 8 7
ld 6 4 136
ld 7 5 136
xor 7 7 6
or 8 8 7
ld 6 4 144
ld 7 5 144
xor 7 7 6
or 8 8 7
ld 6 4 152
ld 7 5 152
xor 7 7 6
or 8 8 7
ld 6 4 160
ld 7 5 160
xor 7 7 6
or 8 8 7
ld 6 4 168
ld 7 5 168
xor 7 7 6
or 8 8 7
ld 6 4 176
ld 7 5 176
xor 7 7 6
or 8 8 7
ld 6 4 184
ld 7 5 184
xor 7 7 6
or 8 8 7
ld 6 4 192
ld 7 5 192
xor 7 7 6
or 8 8 7
ld 6 4 200
ld 7 5 200
xor 7 7 6
or 8 8 7
ld 6 4 208
ld 7 5 208
xor 7 7 6
or 8 8 7
ld 6 4 216
ld 7 5 216
xor 7 7 6
or 8 8 7
ld 6 4 224
ld 7 5 224
xor 7 7 6
or 8 8 7
ld 6 4 232
ld 7 5 232
xor 7 7 6
or 8 8 7
ld 6 4 240
ld 7 5 240
xor 7 7 6
or 8 8 7
ld 6 4 248
ld 7 5 248
xor 7 7 6
or 4 8 7
jalr 0 1 0